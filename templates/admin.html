{% extends 'base.html' %}

{% block content %}
<h2>Admin Panel</h2>

{% if message %}
    <div class="alert alert-info" role="alert">
        {{ message }}
    </div>
{% endif %}

<form method="POST">
    <h3>Create Menu Item</h3>
    <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name" required>
    </div>
    <div class="mb-3">
        <label for="price" class="form-label">Price</label>
        <input type="number" step="0.01" class="form-control" id="price" name="price" required>
    </div>
    <button type="submit" name="create" class="btn btn-success">Create</button>
</form>
<br>
<form method="POST">
    <h3>Update Menu Item</h3>
    <div class="mb-3">
        <label for="item_id" class="form-label">Item ID</label>
        <input type="number" class="form-control" id="item_id" name="item_id" required>
    </div>
    <div class="mb-3">
        <label for="name" class="form-label">New Name</label>
        <input type="text" class="form-control" id="name" name="name">
    </div>
    <div class="mb-3">
        <label for="price" class="form-label">New Price</label>
        <input type="number" step="0.01" class="form-control" id="price" name="price">
    </div>
    <button type="submit" name="update" class="btn btn-warning">Update</button>
</form>
<br>
<form method="POST">
    <h3>Delete Menu Item</h3>
    <div class="mb-3">
        <label for="item_id" class="form-label">Item ID</label>
        <input type="number" class="form-control" id="item_id" name="item_id" required>
    </div>
    <button type="submit" name="delete" class="btn btn-danger">Delete</button>
</form>
<br>
<h3>Current Menu Items</h3>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Price</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td>{{ item.id }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.price|rupiah(with_prefix=True) }}</td> <!-- Menampilkan harga dalam format Rupiah -->
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
